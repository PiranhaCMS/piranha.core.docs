# Blocks

> This article covers how to implement custom blocks for Piranha. If you want to read more about the standard blocks included, please refer to [Blocks](../content/blocks) in the section **Content**.

Blocks are the content pieces that the Administrators can use when designing the main content body. They main difference between `Fields` and `Blocks` is that blocks are intended to be more visual in their presentation than fields to give editors a clear understanding of the content they are creating.

## Creating a Block

A block is in essence a class that inherits from the abstract base class `Piranha.Extend.Block`. A block can contain **one or several** fields, it can actually contain data that is not a field as well, but only properties that derive from `Piranha.Extend.IField` will be saved in the database. All blocks need to be marked with the `BlockType` attribute.

As an example, let's take a look at how the **Quote** block is implemented.

~~~ csharp
using Piranha.Extend;
using Piranha.Extend.Fields;

[BlockType(Name = "Quote", Category = "Content",
    Icon = "fas fa-quote-right", Component = "quote-block")]
public class QuoteBlock : Block
{
    /// <summary>
    /// Gets/sets the text body.
    /// </summary>
    public TextField Body { get; set; }
}
~~~

### Block Configuration

In order to register your block you need to mark it with the `BlockType` attribute like in the above example. This has the following properties.

##### Name

~~~ csharp
public string Name { get; set; }
~~~

This is the name that is shown in the manager interface when editing.

##### Category

~~~ csharp
public string Category { get; set; }
~~~

The name of category the Block will be grouped under in the manager interface.

##### Icon

~~~ csharp
public string Icon { get; set; }
~~~

Css class for rendering the Block icon in the manager interface. The manager interface uses the free icon package from **font awesome**.

##### IsUnlisted

~~~ csharp
public bool IsUnlisted { get; set; }
~~~

If you're developing a block that is supposed to be used within a Block Group you should set this to `true`. This will prevent it from being shown elsewhere when adding Blocks.

##### Component

~~~ csharp
public string Component { get; set; }
~~~

The name of the global `Vue` component that should be used when rendering the block in the manager.

##### IsGeneric

~~~ csharp
public string IsGeneric { get; set; }
~~~

If you are developing a block that will be used in a [Block Group](../content/block-groups) then you can set this to `true`. This will allow you to create the `Block` and `Fields` and when it is edited in the Piranha manager, it will use the default `Components`. This will save you having to write custom `Components` for `Blocks`. 

There is an example of this in the [Block Group](../content/block-groups) section.

## Register The Block

All available blocks has to be registered in the singleton `Piranha.App` **after** the app has been initialized.

~~~ csharp
Piranha.App.Init(api);

// Register custom blocks
Piranha.App.Blocks.Register<MyCustomBlock>();
~~~

## Create The Manager Component

The manager interface is based on `Vue.js` and assumes that all blocks are registered as **global components**. As these components are written in `Javascript` you need to register your custom resources in the manager. For more information about this, please refer to [Resources](../manager-extensions/resources) in the section **Manager Extensions**.

Let's again take a look at how the component for the **Quote** block is implemented:

~~~ js
/*global
    piranha
*/

Vue.component("quote-block", {
    props: ["uid", "toolbar", "model"],
    methods: {
        onBlur: function (e) {
            this.model.body.value = e.target.innerText;
        }
    },
    computed: {
        isEmpty: function () {
            return piranha.utils.isEmptyText(this.model.body.value);
        }
    },
    template:
        "<div class='block-body' :class='{ empty: isEmpty }'>" +
        "  <i class='fas fa-quote-right quote'></i>" +
        "  <p class='lead' contenteditable='true' spellcheck='false' " +
        "    v-html='model.body.value' v-on:blur='onBlur'></p>" +
        "</div>"
});
~~~

### Component Properties

All field components get three properties from the main edit views in the manager interface.

##### uid

A globally unique id that can be used in the component when rendering more complex views. This field is generated at runtime and will be different each time for every field.

##### toolbar

The id of the container that toolbars should be positioned inside, for example when using the `Tiny MCE` editor.

##### model

The model value from the block instance.

